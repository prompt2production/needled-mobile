<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard (Dark) - Needled</title>
  <link rel="stylesheet" href="../styles/variables.css">
  <link rel="stylesheet" href="../styles/phone-frame.css">
  <link rel="stylesheet" href="../styles/components.css">
  <link rel="stylesheet" href="../styles/animations.css">
  <style>
    /* Dark mode color overrides */
    :root {
      --dark-bg: #1E1E2E;
      --dark-card: #2A2A3C;
      --dark-card-elevated: #323248;
      --dark-border: #3D3D54;
      --dark-text-primary: #E4E4E7;
      --dark-text-secondary: #9CA3AF;
      --dark-text-muted: #6B7280;

      /* Brighter accents for dark mode */
      --dark-teal: #2DD4BF;
      --dark-teal-muted: rgba(45, 212, 191, 0.15);
      --dark-coral: #FB7185;
      --dark-coral-muted: rgba(251, 113, 133, 0.15);
      --dark-yellow: #FBBF24;
      --dark-yellow-muted: rgba(251, 191, 36, 0.15);
      --dark-success: #34D399;
      --dark-success-muted: rgba(52, 211, 153, 0.15);
    }

    /* Phone frame dark */
    .phone-frame {
      background: var(--dark-bg);
    }

    /* Status bar dark */
    .status-bar {
      background: var(--dark-bg);
      color: var(--dark-text-primary);
    }

    .status-bar__icons svg {
      fill: var(--dark-text-primary);
    }

    /* Screen content dark */
    .screen-content {
      background: var(--dark-bg);
    }

    /* Greeting dark */
    .greeting__text {
      color: var(--dark-text-primary);
    }

    .greeting__subtext {
      color: var(--dark-text-secondary);
    }

    /* Pip with speech bubble - dark mode */
    .pip-section {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      margin-bottom: var(--space-4);
    }

    .pip-section__character {
      flex-shrink: 0;
    }

    .pip-section__message {
      flex: 1;
      position: relative;
      background: var(--dark-teal-muted);
      border-radius: var(--radius-xl);
      padding: var(--space-4);
      border: 2px solid rgba(45, 212, 191, 0.3);
      margin-left: 12px;
    }

    .pip-section__message::before {
      content: '';
      position: absolute;
      left: -12px;
      top: 50%;
      transform: translateY(-50%);
      width: 0;
      height: 0;
      border-top: 12px solid transparent;
      border-bottom: 12px solid transparent;
      border-right: 12px solid rgba(45, 212, 191, 0.3);
    }

    .pip-section__message::after {
      content: '';
      position: absolute;
      left: -8px;
      top: 50%;
      transform: translateY(-50%);
      width: 0;
      height: 0;
      border-top: 10px solid transparent;
      border-bottom: 10px solid transparent;
      border-right: 10px solid var(--dark-teal-muted);
    }

    .pip-section__message-text {
      font-size: var(--font-size-base);
      color: var(--dark-text-primary);
      line-height: 1.5;
      font-weight: var(--font-weight-medium);
    }

    .pip-section__message-context {
      font-size: var(--font-size-xs);
      color: var(--dark-teal);
      margin-top: var(--space-2);
      font-weight: var(--font-weight-medium);
    }

    /* Cards dark mode */
    .card {
      background: var(--dark-card);
      border-color: var(--dark-border);
    }

    .card__title {
      color: var(--dark-text-secondary);
    }

    .card__value {
      color: var(--dark-text-primary);
    }

    .card__subtitle {
      color: var(--dark-text-muted);
    }

    /* Injection card dark - coral themed */
    .card--coral-tint {
      background: linear-gradient(135deg, var(--dark-coral-muted) 0%, rgba(251, 113, 133, 0.1) 100%);
      border: 1px solid rgba(251, 113, 133, 0.3);
    }

    .card--coral-tint .card__title {
      color: var(--dark-text-secondary);
    }

    .card--coral-tint .card__value {
      color: var(--dark-text-primary);
    }

    .card--coral-tint .text-sm.font-semibold {
      color: var(--dark-coral) !important;
    }

    .card--coral-tint .progress-bar {
      background: rgba(251, 113, 133, 0.2) !important;
    }

    /* Weight card dark - teal themed */
    .card--tinted {
      background: linear-gradient(135deg, var(--dark-teal-muted) 0%, rgba(45, 212, 191, 0.08) 100%);
      border-color: rgba(45, 212, 191, 0.3);
    }

    .text-teal {
      color: var(--dark-teal) !important;
    }

    /* Progress bar dark */
    .progress-bar {
      background: var(--dark-border);
    }

    .progress-bar__fill {
      background: linear-gradient(90deg, var(--dark-teal), #14B8A6);
    }

    /* Section title dark */
    .section__title {
      color: var(--dark-text-secondary);
    }

    .text-gray {
      color: var(--dark-text-muted) !important;
    }

    /* Streak celebration card - dark */
    .streak-card {
      padding: var(--space-4);
      background: linear-gradient(135deg, var(--dark-yellow-muted) 0%, rgba(251, 191, 36, 0.1) 100%);
      border-radius: var(--radius-xl);
      margin-top: var(--space-4);
      margin-bottom: var(--space-4);
      border: 2px solid rgba(251, 191, 36, 0.4);
      position: relative;
      overflow: hidden;
    }

    .streak-card::before {
      content: '';
      position: absolute;
      top: -30px;
      right: -30px;
      width: 100px;
      height: 100px;
      background: rgba(251, 191, 36, 0.1);
      border-radius: 50%;
    }

    .streak-card::after {
      content: '';
      position: absolute;
      bottom: -20px;
      left: -20px;
      width: 60px;
      height: 60px;
      background: rgba(251, 191, 36, 0.08);
      border-radius: 50%;
    }

    .streak-card__top {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-2);
      margin-bottom: var(--space-3);
      position: relative;
      z-index: 1;
    }

    .streak-card__flame {
      font-size: 20px;
      animation: twinkle 1.5s ease-in-out infinite;
    }

    .streak-card__flame:nth-child(1) { animation-delay: 0s; }
    .streak-card__flame:nth-child(3) { animation-delay: 0.3s; }

    .streak-card__number {
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-bold);
      color: var(--dark-text-primary);
    }

    .streak-card__bottom {
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: relative;
      z-index: 1;
    }

    .streak-card__label {
      font-size: var(--font-size-sm);
      color: var(--dark-text-secondary);
      font-weight: var(--font-weight-medium);
    }

    .streak-card__days {
      display: flex;
      gap: 4px;
    }

    .streak-card__day {
      width: 22px;
      height: 22px;
      border-radius: var(--radius-full);
      background: var(--dark-card);
      border: 2px solid rgba(251, 191, 36, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: bold;
      color: var(--dark-text-muted);
    }

    .streak-card__day--complete {
      background: var(--dark-yellow);
      border-color: var(--dark-yellow);
      color: var(--dark-bg);
    }

    .streak-card__day--today {
      border-color: var(--dark-teal);
      background: var(--dark-teal);
      color: var(--dark-bg);
    }

    /* Habit cards dark */
    .habit-card {
      background: var(--dark-card);
      border: 2px solid var(--dark-border);
    }

    .habit-card:hover {
      border-color: rgba(45, 212, 191, 0.4);
    }

    .habit-card.completed {
      border-color: var(--dark-success);
      background: var(--dark-success-muted);
    }

    .habit-card__title {
      color: var(--dark-text-primary);
    }

    .habit-card__subtitle {
      color: var(--dark-text-muted);
    }

    .habit-card__check {
      border-color: var(--dark-border);
    }

    .habit-card.completed .habit-card__check {
      background: var(--dark-success);
      border-color: var(--dark-success);
    }

    /* Habit icon wrapper dark */
    .habit-card__icon-wrapper {
      position: relative;
      width: 48px;
      height: 48px;
    }

    .habit-card__icon-wrapper .habit-card__icon {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--dark-teal-muted);
      border-radius: var(--radius-lg);
      font-size: 24px;
    }

    .habit-card.completed .habit-card__icon-wrapper .habit-card__icon {
      background: var(--dark-success-muted);
    }

    .habit-card__icon-wrapper .habit-card__complete-badge {
      position: absolute;
      bottom: -4px;
      right: -4px;
      width: 20px;
      height: 20px;
      background: var(--dark-success);
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid var(--dark-bg);
    }

    .habit-card__icon-wrapper .habit-card__complete-badge svg {
      width: 12px;
      height: 12px;
      color: var(--dark-bg);
    }

    /* Bottom navigation dark */
    .bottom-nav {
      background: var(--dark-card);
      border-top-color: var(--dark-border);
    }

    .bottom-nav__item {
      color: var(--dark-text-muted);
    }

    .bottom-nav__item:hover,
    .bottom-nav__item.active {
      color: var(--dark-teal);
    }

    /* Home indicator dark */
    .home-indicator {
      background: var(--dark-text-secondary);
    }
  </style>
</head>
<body>
  <div class="phone-frame">
    <div class="notch"></div>

    <!-- Status Bar -->
    <div class="status-bar">
      <span class="status-bar__time">9:41</span>
      <div class="status-bar__icons">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 3C7.46 3 3.34 4.78.29 7.67c-.18.18-.29.43-.29.71 0 .28.11.53.29.71l10.31 10.3c.4.39 1.04.39 1.41 0l10.3-10.29c.18-.18.29-.43.29-.71 0-.28-.11-.53-.29-.71C19.66 4.78 15.54 3 12 3z"/></svg>
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17 4h-3V2h-4v2H7v18h10V4zm-4 16h-2v-2h2v2zm0-4h-2V9h2v7z"/></svg>
      </div>
    </div>

    <!-- Screen Content -->
    <div class="screen-content">
      <div class="safe-area">

        <!-- Header: Greeting -->
        <div class="greeting mb-4">
          <div class="greeting__text">Good morning, Sarah!</div>
          <div class="greeting__subtext">Monday, January 27</div>
        </div>

        <!-- Pip with Contextual Message -->
        <div class="pip-section">
          <div class="pip-section__character">
            <img
              src="../../media/pip-cheerful.png"
              alt="Pip - cheerful"
              class="pip"
              data-state="cheerful"
              data-base-path="../../media/"
              style="width: 100px; height: auto;"
            >
          </div>
          <div class="pip-section__message">
            <div class="pip-section__message-text">
              You're doing amazing! 7 days strong and 12.6 lbs down. Your next dose is in 2 days.
            </div>
            <div class="pip-section__message-context">
              Based on your progress
            </div>
          </div>
        </div>

        <!-- Injection Status Card (Elevated) -->
        <div class="section">
          <div class="card card--coral-tint">
            <div class="flex justify-between items-center">
              <div>
                <div class="card__title">Next Dose</div>
                <div class="card__value">2 days</div>
                <div class="card__subtitle">Wednesday, Jan 29</div>
              </div>
              <div class="text-center">
                <div style="font-size: 40px; line-height: 1;">ðŸ’‰</div>
                <div class="text-sm font-semibold mt-2">Dose 8 of 12</div>
              </div>
            </div>
            <div class="progress-bar mt-4">
              <div class="progress-bar__fill" style="width: 67%; background: linear-gradient(90deg, var(--dark-coral), #F43F5E);"></div>
            </div>
            <div class="flex justify-between mt-2 text-sm text-gray">
              <span>Treatment progress</span>
              <span>4 doses left</span>
            </div>
          </div>
        </div>

        <!-- Weight Progress Card -->
        <div class="section">
          <div class="card card--tinted">
            <div class="flex justify-between items-center mb-2">
              <div>
                <div class="card__title">Current Weight</div>
                <div class="card__value">168.4 <span class="text-sm text-gray">lbs</span></div>
              </div>
              <div class="text-center">
                <div class="card__title">Total Lost</div>
                <div class="card__value text-teal">-12.6 <span class="text-sm">lbs</span></div>
              </div>
            </div>
            <div class="progress-bar mt-4">
              <div class="progress-bar__fill" style="width: 63%;"></div>
            </div>
            <div class="flex justify-between mt-2 text-sm text-gray">
              <span>Start: 181 lbs</span>
              <span>Goal: 155 lbs</span>
            </div>
          </div>
        </div>

        <!-- Today's Habits (End of day logging) -->
        <div class="section">
          <div class="flex justify-between items-center mb-3">
            <div class="section__title" style="margin-bottom: 0;">Today's Habits</div>
            <span class="text-sm text-gray">1 of 3</span>
          </div>

          <!-- Streak Card -->
          <div class="streak-card">
            <div class="streak-card__top">
              <span class="streak-card__flame">ðŸ”¥</span>
              <span class="streak-card__number">7 day streak!</span>
              <span class="streak-card__flame">ðŸ”¥</span>
            </div>
            <div class="streak-card__bottom">
              <span class="streak-card__label">Keep it going!</span>
              <div class="streak-card__days">
                <div class="streak-card__day streak-card__day--complete">T</div>
                <div class="streak-card__day streak-card__day--complete">W</div>
                <div class="streak-card__day streak-card__day--complete">T</div>
                <div class="streak-card__day streak-card__day--complete">F</div>
                <div class="streak-card__day streak-card__day--complete">S</div>
                <div class="streak-card__day streak-card__day--complete">S</div>
                <div class="streak-card__day streak-card__day--today">M</div>
              </div>
            </div>
          </div>

          <div class="flex flex-col gap-3">
            <div class="habit-card">
              <div class="habit-card__icon-wrapper">
                <div class="habit-card__icon">ðŸ’§</div>
              </div>
              <div class="habit-card__content">
                <div class="habit-card__title">Drink Water</div>
                <div class="habit-card__subtitle">8 glasses minimum</div>
              </div>
              <div class="habit-card__check"></div>
            </div>

            <div class="habit-card completed">
              <div class="habit-card__icon-wrapper">
                <div class="habit-card__icon">ðŸ¥—</div>
                <div class="habit-card__complete-badge">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round">
                    <polyline points="20 6 9 17 4 12"></polyline>
                  </svg>
                </div>
              </div>
              <div class="habit-card__content">
                <div class="habit-card__title">Mindful Eating</div>
                <div class="habit-card__subtitle">Protein-focused meals</div>
              </div>
              <div class="habit-card__check">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round">
                  <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
              </div>
            </div>

            <div class="habit-card">
              <div class="habit-card__icon-wrapper">
                <div class="habit-card__icon">ðŸš¶</div>
              </div>
              <div class="habit-card__content">
                <div class="habit-card__title">Move Your Body</div>
                <div class="habit-card__subtitle">30 min activity</div>
              </div>
              <div class="habit-card__check"></div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <a href="01-dashboard-dark.html" class="bottom-nav__item active">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
        <span class="bottom-nav__label">Home</span>
      </a>
      <a href="02-daily-checkin.html" class="bottom-nav__item">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
        <span class="bottom-nav__label">Check-in</span>
      </a>
      <a href="03-injection-day.html" class="bottom-nav__item">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M11 2v4H8l4 4 4-4h-3V2h-2zm0 18v-4h3l-4-4-4 4h3v4h2zm8-9V9h-4V7h4V5h2v2h2v2h-2v2h-2zm-4 4h4v2h-4v4h-2v-4H9v-2h4v-4h2v4z"/></svg>
        <span class="bottom-nav__label">Injection</span>
      </a>
      <a href="04-weekly-weighin.html" class="bottom-nav__item">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/></svg>
        <span class="bottom-nav__label">Weigh-in</span>
      </a>
      <a href="05-calendar.html" class="bottom-nav__item">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"/></svg>
        <span class="bottom-nav__label">Calendar</span>
      </a>
    </nav>

    <div class="home-indicator"></div>
  </div>

  <script src="../scripts/interactions.js"></script>
</body>
</html>
